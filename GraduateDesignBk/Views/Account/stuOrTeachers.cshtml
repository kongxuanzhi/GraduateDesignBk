@model GraduateDesignBk.Models.PersonStuOrMentor

@{
    ViewBag.Title = "stuOrTeachers";
    ViewDataDictionary dic = new ViewDataDictionary();
    dic.Add("Id", Model.Id);
    dic.Add("self", Model.userType);
    dic.Add("userType", Model.subType);

    if (Model.userType == "教师")
    {
        dic.Add("nav_title", "学生");
    }
    else
    {
        dic.Add("nav_title", "教师");
    }
}

@Html.Partial("_NavSelfPartial", Model.counts, dic)


<a href="/Account/List/?Id=@Model.Id&userType=@Model.subType&subtype=unSorT">添加新</a> 

@*@using (Html.BeginForm("AddStuOrTe", "Account", new { Id = Model.Id, userType = Model.userType }, FormMethod.Post, new { id = "form_AddStuOrTe" }))
{ 
    <input type="hidden"  name="Ids" value="getIds()" />
}*@

@*<a href="javascript:$('form_AddStuOrTe').submit()">添加@(dic["userType"])</a>*@

@Html.Partial("_UsersListPartial",Model.userItems,dic)

<script>
    function CheckDelete() {
            var allCheck = document.getElementById("Totalselect");
            var check = document.getElementsByName("delId");
            if (allCheck.checked == false) {
                allCheck.checked = false;
                for (var i = 0; i < check.length; i++) {
                    check[i].checked = false;
                }
                return;
            }
            else {
                for (var i = 0; i < check.length; i++) {
                    check[i].checked = true;
                }
            }
        }

    function getIds() {
        var ids = "";
        var check = document.getElementsByName("delId");
        for (var i = 0; i < check.length; i++) {
            if (check[i].checked == true) {
                ids += check[i].value + "|";
            }
        }
        return ids.substring(0,ids.length-1);
    }
</script>